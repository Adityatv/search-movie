<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADTV Movies</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f0f0f;
  color: #fff;
}

header {
  padding: 15px;
  text-align: center;
  font-size: 22px;
  font-weight: bold;
  background: #111;
}

.search-box {
  padding: 15px;
  text-align: center;
}

.search-box input {
  width: 90%;
  max-width: 400px;
  padding: 12px;
  border-radius: 8px;
  border: none;
  outline: none;
  font-size: 16px;
}

.results {
  padding: 15px;
}

.card {
  background: #1a1a1a;
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 12px;
}

.card h3 {
  margin: 0 0 10px;
  font-size: 16px;
}

.get-btn {
  display: block;
  text-align: center;
  background: #fff;
  color: #000;
  padding: 12px;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  user-select: none;
}

.get-btn:active {
  transform: scale(0.97);
}
</style>
</head>

<body>

<header>ADTV Movies</header>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="Search movie..." oninput="searchMovies()">
</div>

<div class="results" id="results"></div>

<script>
// SAMPLE DATA (replace with your real results later)
const movies = [
  "The Bequeathed S01 COMBINED 720p NF",
  "Vikings S06 1080p",
  "Money Heist S05 720p",
  "KGF Chapter 2 1080p"
];

// SEARCH LOGIC (UNCHANGED)
function searchMovies() {
  const q = document.getElementById("searchInput").value.toLowerCase();
  const res = document.getElementById("results");
  res.innerHTML = "";

  movies
    .filter(m => m.toLowerCase().includes(q))
    .forEach(movie => {
      res.innerHTML += `
        <div class="card">
          <h3>${movie}</h3>
          <div class="get-btn" onclick="shareToTelegram('${escapeQuotes(movie)}')">
            Get File
          </div>
        </div>
      `;
    });
}

// ðŸ”¥ ONLY FIX THAT MATTERS
function shareToTelegram(movieName) {
  const text = encodeURIComponent("/movie " + movieName);
  const shareUrl = "https://t.me/share/url?text=" + text;

  // MUST be direct user click
  window.open(shareUrl, "_blank");
}

// SAFETY
function escapeQuotes(str) {
  return str.replace(/'/g, "\\'");
}
</script>

</body>
</html>
